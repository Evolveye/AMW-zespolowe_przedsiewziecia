{"version":3,"sources":["webpack:///./src/components/privateRoute.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./src/components/rightComponents/myGrades.js","webpack:///./src/pages/users/grades.js"],"names":["PrivateRoute","Component","component","location","rest","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","isLoggedIn","pathname","window","navigate","RightContainerMyGrades","state","grades","data","avgE","gradesElement","React","createRef","average","array","reduce","a","b","render","className","ref","type","name","placeholder","componentDidMount","getData","then","arr","map","index","przedmiot","prowadzacy","JSON","stringify","oceny","slice","toFixed","setState","current","allGrades","Array","from","querySelectorAll","textContent","split","Number","document","getElementsByClassName","innerHTML","socket","Promise","resolve","on","emit","catch","console","error","res","GradesPage","title","path"],"mappings":"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","file":"component---src-pages-users-grades-js-4eaa1ef17a4cc689d55a.js","sourcesContent":["import React from \"react\"\r\nimport { navigate } from \"gatsby\"\r\nimport { isLoggedIn } from \"../services/auth\"\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\r\n  if (!isLoggedIn() && location.pathname !== `/login/`) {\r\n    if (typeof window !== 'undefined'){\r\n        navigate(\"/login/\")\r\n        return null\r\n    }\r\n    \r\n  }\r\n  return <Component {...rest} />\r\n}\r\nexport default PrivateRoute","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\"\r\nimport socket from \"../../services/webSocket.js\"\r\n\r\n\r\nclass RightContainerMyGrades extends React.Component {\r\n  state = {\r\n    grades:[]\r\n  }\r\n\r\n  data = {\r\n    grades: []\r\n  }\r\n\r\n  avgE = 0;\r\n\r\n  gradesElement = React.createRef()\r\n\r\n  average = array => array.reduce((a, b) => a + b) / array.length\r\n\r\n  componentDidMount() {\r\n    RightContainerMyGrades.getData().then( arr => arr.map((a, index) =>\r\n        <div\r\n          className=\"grades-gained-container-grid-new-row\"\r\n          key={index}\r\n        >\r\n          <span className=\"grid-item przedmiot\">\r\n            {a.przedmiot}\r\n          </span>\r\n          <span className=\"grid-item prowadzacy\">\r\n            {a.prowadzacy}\r\n          </span>\r\n          <span className=\"grid-item oceny\">\r\n            {JSON.stringify(a.oceny).slice(1, -1)}\r\n          </span>\r\n          <span className=\"grid-item ocena-koncowa\">\r\n            {this.average(a.oceny).toFixed(2)}\r\n          </span>\r\n        </div>\r\n    ) )\r\n      .then( grades => this.setState( { grades } ) )\r\n      .then( () => {\r\n        /** @type {HTMLElement} */\r\n        const gradesElement = this.gradesElement.current\r\n        const gradesSelector = `.grades-gained-container .grades-gained-container-grid-new-row .grid-item.oceny`\r\n        const allGrades = Array.from( gradesElement.querySelectorAll( gradesSelector ) )\r\n\r\n        this.data.grades = allGrades.map( ({ textContent }) => textContent.split( /[, ]+/ ).map( Number ) )\r\n      } )\r\n      .then( () => {\r\n        for(let i=0;i<this.data.grades.length;i++) {\r\n          this.avgE += this.average(this.data.grades[i])\r\n        }\r\n        this.avgE = this.avgE/this.data.grades.length\r\n        document.getElementsByClassName('srednia-koncowa')[0].innerHTML += this.avgE.toFixed(2)\r\n      } )\r\n  }\r\n\r\n  render = () => <>\r\n\r\n    <div className=\"right-container-profile\">\r\n      <div className=\"right-container-profile-left\">\r\n        <div className=\"right-container-profile-left-text\">\r\n          <span>Przypięte przedmioty</span>\r\n        </div>\r\n        <div className=\"subjects-list\">\r\n          <div className=\"subject\">\r\n            <div className=\"subject-icon\"></div>\r\n            <div className=\"subject-name\">Platforma A</div>\r\n          </div>\r\n          <div className=\"subject\">\r\n            <div className=\"subject-icon\"></div>\r\n            <div className=\"subject-name\">Platofrma BC</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"hr-vertical\"></div>\r\n\r\n      <div className=\"right-container-profile-right\">\r\n        <div className=\"grades\" ref={this.gradesElement}>\r\n          <div className=\"grades-filtre-container\">\r\n            <span>Filtruj oceny</span>\r\n            <div className=\"grades-gained-container-grid\">\r\n              <span className=\"grid-item przedmiot\">Przedmiot</span>\r\n              <span className=\"grid-item prowadzacy\">Prowadzący</span>\r\n              <span className=\"grid-item oceny\">Oceny</span>\r\n              <span className=\"grid-item ocena-koncowa\">Ocena końcowa</span>\r\n\r\n              <div className=\"grades-gained-container-grid-new-row\">\r\n                <div className=\"grid-item przedmiot\">\r\n                  <input type=\"text\" name=\"\" placeholder=\"Wpisz...\" />\r\n                </div>\r\n                <div className=\"grid-item prowadzacy\">\r\n                  <input type=\"text\" name=\"\" placeholder=\"Wpisz...\" />\r\n                </div>\r\n                <div className=\"grid-item oceny\">\r\n                  <input type=\"text\" name=\"\" placeholder=\"Wpisz...\" />\r\n                </div>\r\n                <div className=\"grid-item ocena-koncowa\">\r\n                  <input type=\"text\" name=\"\" placeholder=\"Wpisz...\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"grades-gained-container\">\r\n            <span>Zebrane oceny</span>\r\n            <div className=\"grades-gained-container-grid\">\r\n              <span className=\"grid-item przedmiot\">Przedmiot</span>\r\n              <span className=\"grid-item prowadzacy\">Prowadzący</span>\r\n              <span className=\"grid-item oceny\">Oceny</span>\r\n              <span className=\"grid-item ocena-koncowa\">Ocena końcowa</span>\r\n\r\n              {this.state.grades}\r\n\r\n              <div className=\"grades-gained-container-grid-new-row\">\r\n                <span className=\"empty empty1\"></span>\r\n                <span className=\"empty empty2\"></span>\r\n                <span className=\"empty empty3\"></span>\r\n                <span className=\"grid-item srednia-koncowa\">\r\n\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </>\r\n\r\nstatic getData() {\r\n  if(!socket) return new Promise(res => res([]))\r\n  else return new Promise(resolve => {\r\n    socket.on(`api.get.groups.notes`, resolve)\r\n    socket.emit(`api.get.groups.notes`)\r\n    // console.error(\"jesteś w moich ocenach, po 'socket.on(`api.get.users.me.notes`, resolve) socket.emit(`api.get.users.me.notes`)'\")\r\n  }).catch( console.error );\r\n}\r\n}\r\nexport default RightContainerMyGrades\r\n","import React from \"react\"\r\nimport { Router } from \"@reach/router\" \r\nimport PrivateRoute from \"../../components/privateRoute\"\r\n\r\nimport SEO from \"../../components/seo\"\r\n\r\nimport LeftContainer from \"../../components/left-container\"\r\nimport RightContainerMyGrades  from \"../../components/rightComponents/myGrades\"\r\n\r\nimport \"../../components/style.css\"\r\n\r\nconst GradesPage = () => ( \r\n  <div className=\"container\"> \r\n      <SEO title=\"Moje oceny\" />\r\n      \r\n        <LeftContainer /> \r\n        <div className=\"hr-vertical\"></div> \r\n        <Router className=\"router-container\">\r\n            <PrivateRoute path=\"/users/grades\" component={RightContainerMyGrades} /> \r\n        </Router>\r\n    </div>\r\n\r\n)\r\n\r\nexport default GradesPage\r\n"],"sourceRoot":""}