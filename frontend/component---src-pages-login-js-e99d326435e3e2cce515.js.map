{"version":3,"sources":["webpack:///./src/components/rightComponents/login.js","webpack:///./src/pages/login.js"],"names":["RightContainerLogin","state","rerender","login","password","handleUpdate","event","setState","target","name","value","handleSubmit","preventDefault","handleForm","DEBUG","DEBUG_LOGIN_URL","BACKEND_LOGIN_URL","okCb","token","setToken","socket","emit","getToken","navigate","console","info","componentDidMount","this","render","isLoggedIn","className","to","method","onSubmit","icon","faUser","size","type","placeholder","onChange","faLock","id","React","Component","title"],"mappings":"4QA0GeA,E,oJA5FbC,MAAQ,CACNC,UAAU,EACVC,MAAM,GACNC,SAAS,I,EAEXC,aAAe,SAAAC,GAAU,IAAD,EACtB,EAAKC,WAAL,MACGD,EAAME,OAAOC,MAAOH,EAAME,OAAOE,MADpC,K,EAIFC,aAAe,SAAAL,GACbA,EAAMM,iBAINC,YACEC,IAAQC,IAAkBC,IAC1BF,IAAK,aACL,CAAE,eAAe,oBACjB,EAAKb,MAEL,CACEgB,KADF,YACqB,IAAXC,EAAU,EAAVA,MACNC,YAASD,GAETE,IAAOC,KAAP,eAA6BC,eAE7BC,mBAAS,aAETC,QAAQC,KAAR,mCAAiDP,O,8CAMzDQ,kBAAA,WACEC,KAAKpB,SAAU,CAAEL,UAAS,K,EAG5B0B,OAAA,WAGE,OAFID,KAAK1B,MAAMC,UAAY2B,eAAcN,mBAAS,aAE3C,oCACL,yBAAKO,UAAU,mBACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,qBACb,kBAAC,OAAD,CAAMC,GAAG,KACP,yBAAKD,UAAU,eAEjB,yBAAKA,UAAU,8BACb,0BAAMA,UAAU,0BAAhB,qCAKJ,yBAAKA,UAAU,aACb,yBAAKA,UAAU,kBACb,0BAAME,OAAO,OAAOC,SAAUN,KAAKhB,cACjC,yBAAKmB,UAAU,WACf,kBAAC,IAAD,CAAiBI,KAAMC,IAAQC,KAAK,OAClC,2BACCC,KAAK,OACL5B,KAAK,QACL6B,YAAY,QACZC,SAAUZ,KAAKtB,gBAIlB,yBAAKyB,UAAU,WACf,kBAAC,IAAD,CAAiBI,KAAMM,IAAQJ,KAAK,OAClC,2BACEC,KAAK,WACL5B,KAAK,WACL6B,YAAY,QACZC,SAAUZ,KAAKtB,gBAGnB,0BAAMoC,GAAG,eACT,yBAAKX,UAAU,oBACb,yBAAKA,UAAU,mBACb,kBAAC,OAAD,CAAMC,GAAG,oBAAT,sBAEF,2BAAOM,KAAK,SAAS3B,MAAM,wB,GAnFXgC,IAAMC,W,UCHzB,4BACb,yBAAKb,UAAU,aACX,kBAAC,IAAD,CAAKc,MAAM,cAET,kBAAC,IAAD,MACA,yBAAKd,UAAU,gBACf,kBAAC,EAAD,S","file":"component---src-pages-login-js-e99d326435e3e2cce515.js","sourcesContent":["import React from \"react\"\r\nimport { Link } from \"@reach/router\"\r\n/* icons */\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faUser, faLock} from '@fortawesome/free-solid-svg-icons'\r\n/* autentykacja */\r\nimport { navigate } from \"gatsby\"\r\nimport { isLoggedIn } from \"../../services/auth\"\r\nimport { handleForm } from \"../formsHandling.js\"\r\nimport {DEBUG, DEBUG_LOGIN_URL, BACKEND_LOGIN_URL} from \"../../config.js\"\r\nimport { setToken, getToken } from \"../../services/auth\"\r\nimport socket from \"../../services/webSocket\"\r\n\r\nclass RightContainerLogin extends React.Component {\r\n  state = {\r\n    rerender: true,\r\n    login: ``,\r\n    password: ``,\r\n  }\r\n  handleUpdate = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    })\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n\r\n\r\n\r\n    handleForm(\r\n      DEBUG ? DEBUG_LOGIN_URL : BACKEND_LOGIN_URL,\r\n      DEBUG ? `GET` : `POST`,\r\n      { \"Content-Type\": `application/json` },\r\n      this.state,\r\n\r\n      {\r\n        okCb( { token } ) {\r\n          setToken(token)\r\n\r\n          socket.emit( `authenticate`, getToken() )\r\n\r\n          navigate(`/users/me`)\r\n\r\n          console.info( `kliknąłeś zaloguj i token jest: ${token}` )\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState( { rerender:false } )\r\n  }\r\n\r\n  render() {\r\n    if (this.state.rerender && isLoggedIn()) navigate(`/users/me`)\r\n\r\n    return <>\r\n      <div className=\"right-container\">\r\n        <div className=\"login-form\">\r\n          <div className=\"login-form-header\">\r\n            <Link to=\"/\">\r\n              <div className=\"logo-mini\"></div>\r\n            </Link>\r\n            <div className=\"login-form-header-div-text\">\r\n              <span className=\"login-form-header-text\">\r\n                Platforma edukacyjna - logownie\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"login-box\">\r\n            <div className=\"login-box-form\">\r\n              <form method=\"post\" onSubmit={this.handleSubmit}>\r\n                <div className=\"textbox\">\r\n                <FontAwesomeIcon icon={faUser} size=\"1x\" />\r\n                  <input\r\n                   type=\"text\"\r\n                   name=\"login\"\r\n                   placeholder=\"Login\"\r\n                   onChange={this.handleUpdate}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"textbox\">\r\n                <FontAwesomeIcon icon={faLock} size=\"1x\" />\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Hasło\"\r\n                    onChange={this.handleUpdate}\r\n                  />\r\n                </div>\r\n                <span id=\"error-mess\"></span>\r\n                <div className=\"login-box-submit\">\r\n                  <div className=\"center-text-div\">\r\n                    <Link to=\"/password/remind\">Zapomniałem hasła</Link>\r\n                  </div>\r\n                  <input type=\"submit\" value=\"Zaloguj się\" />\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  }\r\n}\r\nexport default RightContainerLogin\r\n\r\n/*\r\nconst RightContainerLogin = () => (\r\n  <div className=\"right-container\">\r\n  <div className=\"login-form\">\r\n      <div className=\"login-form-header\">\r\n         <Link to=\"/\"><div className=\"logo-mini\"></div></Link>\r\n          <div className=\"login-form-header-div-text\">\r\n              <span className=\"login-form-header-text\">Platforma edukacyjna - logownie</span>\r\n          </div>\r\n      </div>\r\n      <div className=\"login-box\">\r\n          <div className=\"login-box-form\">\r\n              <form method=\"post\">\r\n                  <div className=\"textbox\">\r\n                      <i className=\"fas fa-user\"></i>\r\n                      <input type=\"text\" name=\"username\" placeholder=\"Login\" />\r\n                  </div>\r\n\r\n                  <div className=\"textbox\">\r\n                      <i className=\"fas fa-lock\"></i>\r\n                      <input type=\"password\" name=\"password\" placeholder=\"Hasło\" />\r\n                  </div>\r\n\r\n                  <div className=\"login-box-submit\">\r\n                      <div className=\"center-text-div\">\r\n                          <a href=\"zmien-haslo.html\">Zapomniałem hasła</a>\r\n                      </div>\r\n                      <input type=\"submit\" value=\"Zaloguj się\" />\r\n                  </div>\r\n              </form>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</div>\r\n  )\r\n\r\n  export default RightContainerLogin\r\n  */\r\n","import React from \"react\"\r\nimport '@fortawesome/fontawesome-svg-core/styles.css';\r\n\r\nimport SEO from \"../components/seo\"\r\n\r\nimport LeftContainer from \"../components/left-container\"\r\nimport RightContainerLogin from \"../components/rightComponents/login\"\r\n\r\nimport \"../components/style.css\"\r\n\r\nexport default () => (\r\n  <div className=\"container\">\r\n      <SEO title=\"Logowanie\" />\r\n\r\n        <LeftContainer />\r\n        <div className=\"hr-vertical\"></div>\r\n        <RightContainerLogin />\r\n    </div>\r\n\r\n)"],"sourceRoot":""}