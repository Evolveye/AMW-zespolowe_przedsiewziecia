(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{IzKY:function(e,t,a){e.exports={field:"note-module--field--1JndD",note:"note-module--note--tykFr",title:"note-module--title--119jd",value:"note-module--value--pLWJx"}},YdwP:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));a("E9XD");var n=a("dI71"),r=a("q1tI"),l=a.n(r),o=a("cA2t"),u=a("X4fA"),s=a("Bl7J"),c=a("IzKY"),i=a.n(c),m=function(e){function t(t){var a;(a=e.call(this,t)||this).setDetails=function(e){return void 0===e&&(e=!1),a.props.detailsSetter(l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:i.a.note+" "+(a.props.className||"")},a.value),l.a.createElement("dl",null,l.a.createElement("dt",{className:i.a.title},"Wystawiający"),l.a.createElement("dd",{className:i.a.value},a.lecturerName),l.a.createElement("dt",{className:i.a.title},"Data wystawienia"),l.a.createElement("dd",{className:i.a.value},a.createDate),l.a.createElement("dt",{className:i.a.title},"Opis"),l.a.createElement("dd",{className:i.a.value},a.description))),e)},a.removeHoverDetails=function(){return a.props.detailsSetter(null,!0)},a.render=function(){return l.a.createElement("button",{className:a.props.className||"",onClick:function(){return a.setDetails(!1)},onPointerEnter:function(){return a.setDetails(!0)},onPointerLeave:a.removeHoverDetails},a.props.note.value)};var n=t.note,r=n.lecturer,o=n.date,u=n.value,s=n.description,c=new Intl.DateTimeFormat("pl",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).formatToParts(o),m=c[0].value,d=c[2].value,f=c[4].value,p=c[6].value,y=c[8].value;return a.createDate=f+"."+d+"."+m+" "+p+":"+y,a.lecturerName=r.name+" "+r.surname,a.description=s,a.value=u,a}return Object(n.a)(t,e),t}(l.a.Component),d=a("bk3a"),f=a.n(d);function p(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(a=e[Symbol.iterator]()).next.bind(a)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var v=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={notesTable:null,platformsList:[],noteDetails:null,noteDetailsHover:null},t.showNotesTable=function(e,a){var n=e.filter((function(e){for(var t,n=p(e.notes);!(t=n()).done;){if(t.value.user.id!==a)return!1}return!0}));t.setState({notesTable:l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead"},l.a.createElement("tr",null,l.a.createElement("td",null,"Nazwa grupy"),l.a.createElement("td",null,"Główny prowadzacy"),l.a.createElement("td",null,"Oceny cząstkowe"),l.a.createElement("td",null,"Średnia końcowa"))),l.a.createElement("tbody",null,n.map((function(e){var a=e.group,n=e.notes,r=0===n.length?" - ":n.reduce((function(e,t){var a=t.value;return e+Number(a)}),0)/n.length,o=n.map((function(e){return l.a.createElement(m,{key:e.id,className:f.a.note,note:e,detailsSetter:t.setDetails})}));return l.a.createElement("tr",{key:a.id},l.a.createElement("td",null,a.name),l.a.createElement("td",null,a.lecturer.name," ",a.lecturer.surname),l.a.createElement("td",null,o),l.a.createElement("td",null,r))}))))})},t.setDetails=function(e,a){var n;void 0===a&&(a=!1),t.setState(((n={})[a?"noteDetailsHover":"noteDetails"]=e,n))},t.render=function(){return l.a.createElement(u.a,null,l.a.createElement(s.a,{className:"main_wrapper-splited"},l.a.createElement("article",{className:f.a.leftColumn},l.a.createElement("section",{className:f.a.noteDetails},l.a.createElement("h2",null,"Szcegóły oceny"),t.state.noteDetailsHover||t.state.noteDetails||l.a.createElement("p",{className:f.a.noNote},"Brak aktywnej oceny")),l.a.createElement("section",{className:f.a.platforms},l.a.createElement("h2",null,"Wybierz platformę"),t.state.platformsList||l.a.createElement("p",{className:f.a.empty},"Wygląda na to, że nie należysz do żadnej grupy, z której mógłyś zdobywać oceny"))),l.a.createElement("article",{className:f.a.rightColumn},l.a.createElement("h1",null,"Twoje oceny"),t.state.notesTable||l.a.createElement("div",{className:f.a.noTable},"Wybierz platformę z lewej kolumny aby zobaczyć zdobyte na niej oceny"))))},t}return Object(n.a)(t,e),t.prototype.componentDidMount=function(){var e=this;fetch(o.a.GROUP_NOTES_GET,{headers:{Authentication:"Bearer "+Object(u.f)()}}).then((function(e){return e.json()})).then((function(t){var a=t.code,n=t.error,r=t.data,o=t.userId;if(n)return console.error({code:a,error:n});var u=r.map((function(t){var a=t.platform,n=t.groups;return l.a.createElement("button",{key:a.id,onClick:function(){return e.showNotesTable(n,o)}},a.name)}));e.setState({platformsList:u})}))},t}(l.a.Component)},bk3a:function(e,t,a){e.exports={empty:"user-module--empty--3dGEr",leftColumn:"user-module--leftColumn--FgVPi",rightColumn:"user-module--rightColumn--IcaSD",noteDetails:"user-module--noteDetails--10jHD",noNote:"user-module--noNote--3mEdp",platforms:"user-module--platforms--197AJ",noTable:"user-module--noTable--3vr97",note:"user-module--note--33qQ-"}}}]);
//# sourceMappingURL=component---src-pages-user-notes-js-3db52f06ef1a39cc154f.js.map